<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.pisilinux.org/projeler/pisi/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>module-fglrx-legacy</Name>
        <Homepage>http://ati.amd.com/support/driver.html</Homepage>
        <Packager>
            <Name>PisiLinux Community</Name>
            <Email>admins@pisilinux.org</Email>
        </Packager>
        <License>ATI</License>
        <Summary>ATI display drivers</Summary>
        <Description>Fglrx is a driver written by AMD(ATI) for ATI graphics cards.</Description>
        <!--https://github.com/kolasa/fglrx-8.97.100.7-->
        <Archive sha1sum="6d3503f37c40373c4ab3a3e078ade0ed941dadb3" type="targz" target="arch/x86_64/lib/modules/fglrx/">file:///run/media/erturk/1e441b8f-cf86-432f-89a4-c8aa13ebe688/home/erturk/module-fglrx-legacy/build_mod.tar.gz</Archive>
        <Archive sha1sum="e886a3ca4a15781814a571e17577837cc4f282f2" type="zip">http://geeko.ioda.net/mirror/amd-fglrx-legacy/raw-src/amd-driver-installer-catalyst-13.1-legacy-linux-x86.x86_64.zip</Archive>
        <AdditionalFiles>
            <AdditionalFile target="desktop-files.patch">desktop-files.patch</AdditionalFile>
        </AdditionalFiles>
        <BuildDependencies>
            <Dependency version="3.13.6">kernel-module-headers</Dependency>
        </BuildDependencies>
    </Source>

    <Package>
        <Name>module-fglrx-legacy</Name>
        <Conflicts>
            <Package>module-fglrx</Package>
        </Conflicts>
        <IsA>driver</IsA>
        <Summary>Kernel module for ATI display drivers</Summary>
        <RuntimeDependencies>
            <Dependency version="3.13.6">kernel</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="library" permanent="true">/lib/modules</Path>
            <Path fileType="config">/etc/modprobe.d</Path>
        </Files>
        <AdditionalFiles>
            <AdditionalFile owner="root" permission="0644" target="/etc/modprobe.d/blacklist-fglrx.conf">blacklist-fglrx.conf</AdditionalFile>
        </AdditionalFiles>
        <BuildFlags>
            <Flag>noDelta</Flag>
        </BuildFlags>
    </Package>

    <Package>
        <Name>xorg-video-fglrx-legacy</Name>
        <Conflicts>
            <Package>xorg-video-fglrx</Package>
        </Conflicts>
        <IsA>driver</IsA>
        <PartOf>x11.driver</PartOf>
        <RuntimeDependencies>
            <AnyDependency>
                <Dependency version="current">module-fglrx-legacy</Dependency>
            </AnyDependency>
            <Dependency>qt</Dependency>
            <Dependency>mesa</Dependency>
            <Dependency>libSM</Dependency>
            <Dependency>libICE</Dependency>
            <Dependency>libXext</Dependency>
            <Dependency>libXrandr</Dependency>
            <Dependency>libXfixes</Dependency>
            <Dependency>libXcursor</Dependency>           
            <Dependency>libXrender</Dependency>
            <Dependency>fontconfig</Dependency>
            <Dependency>libXxf86vm</Dependency>
            <Dependency>libXinerama</Dependency>
            <Dependency>xorg-server</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="data">/usr/share</Path>
            <Path fileType="config">/etc</Path>
            <Path fileType="executable">/usr/bin</Path>
            <Path fileType="executable">/usr/sbin</Path>
            <Path fileType="data">/usr/X11R6</Path>
            <Path fileType="library">/usr/lib</Path>
            <Path fileType="doc">/usr/share/doc</Path>
            <Path fileType="man">/usr/share/man</Path>
        </Files>
        <Provides>
            <COMAR script="package.py">System.Package</COMAR>
            <COMAR script="service.py" name="atieventsd">System.Service</COMAR>
        </Provides>
        <BuildFlags>
            <Flag>noDelta</Flag>
        </BuildFlags>
    </Package>

    <Package>
        <Name>xorg-video-fglrx-legacy-32bit</Name>
        <Conflicts>
            <Package>xorg-video-fglrx-32bit</Package>
        </Conflicts>
        <PartOf>emul32</PartOf>
	<BuildType>emul32</BuildType>
        <Summary>32-bit shared libraries for xorg-video-fglrx</Summary>
        <BuildDependencies>
            <Dependency>xvba-video-32bit</Dependency>
            <Dependency>fontconfig-32bit</Dependency>
            <Dependency>freetype-32bit</Dependency>
            <Dependency>libXcursor-32bit</Dependency>
            <Dependency>libXext-32bit</Dependency>
            <Dependency>libXfixes-32bit</Dependency>
            <Dependency>libXinerama-32bit</Dependency>
            <Dependency>libXrandr-32bit</Dependency>
            <Dependency>libXrender-32bit</Dependency>
            <Dependency>libXxf86vm-32bit</Dependency>
            <Dependency>libX11-32bit</Dependency>
        </BuildDependencies>
        <RuntimeDependencies>
            <Dependency release="current">xorg-video-fglrx-legacy</Dependency>
            <Dependency>libXext-32bit</Dependency>
            <Dependency>libX11-32bit</Dependency>
            <Dependency>mesa-32bit</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="library">/usr/lib32</Path>
        </Files>
        <Provides>
            <COMAR script="package-emul32.py">System.Package</COMAR>
        </Provides>
        <BuildFlags>
            <Flag>noDelta</Flag>
        </BuildFlags>
    </Package>

    <History>
        <Update release="1">
            <Date>2014-04-11</Date>
            <Version>13.1</Version>
            <Comment>First Release</Comment>
            <Name>PisiLinux Community </Name>
            <Email>admins@pisilinux.org</Email>
        </Update>
    </History>
</PISI>
