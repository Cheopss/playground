<?xml version="1.0" ?>
<!DOCTYPE PISI SYSTEM "http://www.pisilinux.org/projeler/pisi/pisi-spec.dtd">
<PISI>
    <Source>
        <Name>vim</Name>
        <Homepage>http://www.vim.org/</Homepage>
        <Packager>
            <Name>PisiLinux Community</Name>
            <Email>admins@pisilinux.org</Email>
        </Packager>
        <License>GPLv2</License>
        <Summary>Vi IMproved, an advanced text editor</Summary>
        <Description>Vim, which stands for Vi IMproved, is an open-source, multiplatform text editor extended from vi. It was first released by Bram Moolenaar in 1991. Since then, numerous features have been added to Vim, many of which are helpful in editing program source code.</Description>
        <Archive sha1sum="601abf7cc2b5ab186f40d8790e542f86afca86b7" type="tarbz2">ftp://ftp.vim.org/pub/vim/unix/vim-7.4.tar.bz2</Archive>
        <BuildDependencies>
            <Dependency>gpm</Dependency>
            <Dependency>ctags</Dependency>
            <Dependency>gtk2-devel</Dependency>
            <Dependency>libSM-devel</Dependency>
            <Dependency>libXt-devel</Dependency>
            <Dependency>pango-devel</Dependency>
            <Dependency>libICE-devel</Dependency>
        </BuildDependencies>
        <Patches>
            <!-- Official VIM patches: ftp://ftp.vim.org/pub/vim/patches -->
            <Patch>official/7.4.001</Patch>
            <Patch>official/7.4.002</Patch>
            <Patch>official/7.4.003</Patch>
            <Patch>official/7.4.004</Patch>
            <Patch>official/7.4.005</Patch>
            <Patch>official/7.4.006</Patch>
            <Patch>official/7.4.007</Patch>
            <Patch>official/7.4.008</Patch>
            <Patch>official/7.4.009</Patch>
            <Patch>official/7.4.010</Patch>
            <Patch>official/7.4.011</Patch>
            <Patch>official/7.4.012</Patch>
            <Patch>official/7.4.013</Patch>
            <Patch>official/7.4.014</Patch>
            <Patch>official/7.4.015</Patch>
            <Patch>official/7.4.016</Patch>
            <Patch>official/7.4.017</Patch>
            <Patch>official/7.4.018</Patch>
            <Patch>official/7.4.019</Patch>
            <Patch>official/7.4.020</Patch>
            <Patch>official/7.4.021</Patch>
            <Patch>official/7.4.022</Patch>
            <Patch>official/7.4.023</Patch>
            <Patch>official/7.4.024</Patch>
            <Patch>official/7.4.025</Patch>
            <Patch>official/7.4.026</Patch>
            <Patch>official/7.4.027</Patch>
            <Patch>official/7.4.028</Patch>
            <Patch>official/7.4.029</Patch>
            <Patch>official/7.4.030</Patch>
            <Patch>official/7.4.031</Patch>
            <Patch>official/7.4.032</Patch>
            <Patch>official/7.4.033</Patch>
            <Patch>official/7.4.034</Patch>
            <Patch>official/7.4.035</Patch>
            <Patch>official/7.4.036</Patch>
            <Patch>official/7.4.037</Patch>
            <Patch>official/7.4.038</Patch>
            <Patch>official/7.4.039</Patch>
            <Patch>official/7.4.040</Patch>
            <Patch>official/7.4.041</Patch>
            <Patch>official/7.4.042</Patch>
            <Patch>official/7.4.043</Patch>
            <Patch>official/7.4.044</Patch>
            <Patch>official/7.4.045</Patch>
            <Patch>official/7.4.046</Patch>
            <Patch>official/7.4.047</Patch>
            <Patch>official/7.4.048</Patch>
            <Patch>official/7.4.049</Patch>
            <Patch>official/7.4.050</Patch>
            <Patch>official/7.4.051</Patch>
            <Patch>official/7.4.052</Patch>
            <Patch>official/7.4.053</Patch>
            <Patch>official/7.4.054</Patch>
            <Patch>official/7.4.055</Patch>
            <Patch>official/7.4.056</Patch>
            <Patch>official/7.4.057</Patch>
            <Patch>official/7.4.058</Patch>
            <Patch>official/7.4.059</Patch>
            <Patch>official/7.4.060</Patch>
            <Patch>official/7.4.061</Patch>
            <Patch>official/7.4.062</Patch>
            <Patch>official/7.4.063</Patch>
            <Patch>official/7.4.064</Patch>
            <Patch>official/7.4.065</Patch>
            <Patch>official/7.4.066</Patch>
            <Patch>official/7.4.067</Patch>
            <Patch>official/7.4.068</Patch>
            <Patch>official/7.4.069</Patch>
            <Patch>official/7.4.070</Patch>
            <Patch>official/7.4.071</Patch>
            <Patch>official/7.4.072</Patch>
            <Patch>official/7.4.073</Patch>
            <Patch>official/7.4.074</Patch>
            <Patch>official/7.4.075</Patch>
            <Patch>official/7.4.076</Patch>
            <Patch>official/7.4.077</Patch>
            <Patch>official/7.4.078</Patch>
            <Patch>official/7.4.079</Patch>
            <Patch>official/7.4.080</Patch>
            <Patch>official/7.4.081</Patch>
            <Patch>official/7.4.082</Patch>
            <Patch>official/7.4.083</Patch>
            <Patch>official/7.4.084</Patch>
            <Patch>official/7.4.085</Patch>
            <Patch>official/7.4.086</Patch>
            <Patch>official/7.4.087</Patch>
            <Patch>official/7.4.088</Patch>
            <Patch>official/7.4.089</Patch>
            <Patch>official/7.4.090</Patch>
            <Patch>official/7.4.091</Patch>
            <Patch>official/7.4.092</Patch>
            <Patch>official/7.4.093</Patch>
            <Patch>official/7.4.094</Patch>
            <Patch>official/7.4.095</Patch>
            <Patch>official/7.4.096</Patch>
            <Patch>official/7.4.097</Patch>
            <Patch>official/7.4.098</Patch>
            <Patch>official/7.4.099</Patch>
            <Patch>official/7.4.100</Patch>
            <Patch>official/7.4.101</Patch>
            <Patch>official/7.4.102</Patch>
            <Patch>official/7.4.103</Patch>
            <Patch>official/7.4.104</Patch>
            <Patch>official/7.4.105</Patch>
            <Patch>official/7.4.106</Patch>
            <Patch>official/7.4.107</Patch>
            <Patch>official/7.4.108</Patch>
            <Patch>official/7.4.109</Patch>
            <Patch>official/7.4.110</Patch>
            <Patch>official/7.4.111</Patch>
            <Patch>official/7.4.112</Patch>
            <Patch>official/7.4.113</Patch>
            <Patch>official/7.4.114</Patch>
            <Patch>official/7.4.115</Patch>
            <Patch>official/7.4.116</Patch>
            <Patch>official/7.4.117</Patch>
            <Patch>official/7.4.118</Patch>
            <Patch>official/7.4.119</Patch>
            <Patch>official/7.4.120</Patch>
            <Patch>official/7.4.121</Patch>
            <Patch>official/7.4.122</Patch>
            <Patch>official/7.4.123</Patch>
            <Patch>official/7.4.124</Patch>
            <Patch>official/7.4.125</Patch>
            <Patch>official/7.4.126</Patch>
            <Patch>official/7.4.127</Patch>
            <Patch>official/7.4.128</Patch>
            <Patch>official/7.4.129</Patch>
            <Patch>official/7.4.130</Patch>
            <Patch>official/7.4.131</Patch>
            <Patch>official/7.4.132</Patch>
            <Patch>official/7.4.133</Patch>
            <Patch>official/7.4.134</Patch>
            <Patch>official/7.4.135</Patch>
            <Patch>official/7.4.136</Patch>
            <Patch>official/7.4.137</Patch>
            <Patch>official/7.4.138</Patch>
            <Patch>official/7.4.139</Patch>
            <Patch>official/7.4.140</Patch>
            <Patch>official/7.4.141</Patch>
            <Patch>official/7.4.142</Patch>
            <Patch>official/7.4.143</Patch>
            <Patch>official/7.4.144</Patch>
            <Patch>official/7.4.145</Patch>
            <Patch>official/7.4.146</Patch>
            <Patch>official/7.4.147</Patch>
            <Patch>official/7.4.148</Patch>
            <Patch>official/7.4.149</Patch>
            <Patch>official/7.4.150</Patch>
            <Patch>official/7.4.151</Patch>
            <Patch>official/7.4.152</Patch>
            <Patch>official/7.4.153</Patch>
            <Patch>official/7.4.154</Patch>
            <Patch>official/7.4.155</Patch>
            <Patch>official/7.4.156</Patch>
            <Patch>official/7.4.157</Patch>
            <Patch>official/7.4.158</Patch>
            <Patch>official/7.4.159</Patch>
            <Patch>official/7.4.160</Patch>
            <Patch>official/7.4.161</Patch>
            <Patch>official/7.4.162</Patch>
            <Patch>official/7.4.163</Patch>
            <Patch>official/7.4.164</Patch>
            <Patch>official/7.4.165</Patch>
            <Patch>official/7.4.166</Patch>
            <Patch>official/7.4.167</Patch>
            <Patch>official/7.4.168</Patch>
            <Patch>official/7.4.169</Patch>
            <Patch>official/7.4.170</Patch>
            <Patch>official/7.4.171</Patch>
            <Patch>official/7.4.172</Patch>
            <Patch>official/7.4.173</Patch>
            <Patch>official/7.4.174</Patch>
            <Patch>official/7.4.175</Patch>
            <Patch>official/7.4.176</Patch>
            <Patch>official/7.4.177</Patch>
            <Patch>official/7.4.178</Patch>
            <Patch>official/7.4.179</Patch>
            <Patch>official/7.4.180</Patch>
            <Patch>official/7.4.181</Patch>
            <Patch>official/7.4.182</Patch>
            <Patch>official/7.4.183</Patch>
            <Patch>official/7.4.184</Patch>
            <Patch>official/7.4.185</Patch>
            <Patch>official/7.4.186</Patch>
            <Patch>official/7.4.187</Patch>
            <Patch>official/7.4.188</Patch>
            <Patch>official/7.4.189</Patch>
            <Patch>official/7.4.190</Patch>
            <Patch>official/7.4.191</Patch>
            <Patch>official/7.4.192</Patch>
            <Patch>official/7.4.193</Patch>
            <Patch>official/7.4.194</Patch>
            <Patch>official/7.4.195</Patch>
            <Patch>official/7.4.196</Patch>
            <Patch>official/7.4.197</Patch>
            <Patch>official/7.4.198</Patch>
            <Patch>official/7.4.199</Patch>
            <Patch>official/7.4.200</Patch>
            <Patch>official/7.4.201</Patch>
            <Patch>official/7.4.202</Patch>
            <Patch>official/7.4.203</Patch>
            <Patch>official/7.4.204</Patch>
            <Patch>official/7.4.205</Patch>
            <Patch>official/7.4.206</Patch>
            <Patch>official/7.4.207</Patch>
            <Patch>official/7.4.208</Patch>
            <Patch>official/7.4.209</Patch>
            <Patch>official/7.4.210</Patch>
            <Patch>official/7.4.211</Patch>
            <Patch>official/7.4.212</Patch>
            <Patch>official/7.4.213</Patch>
            <Patch>official/7.4.214</Patch>
            <Patch>official/7.4.215</Patch>
            <Patch>official/7.4.216</Patch>
            <Patch>official/7.4.217</Patch>
            <Patch>official/7.4.218</Patch>
            <Patch>official/7.4.219</Patch>
            <Patch>official/7.4.220</Patch>
            <Patch>official/7.4.221</Patch>
            <Patch>official/7.4.222</Patch>
            <Patch>official/7.4.223</Patch>
            <Patch>official/7.4.224</Patch>
            <Patch>official/7.4.225</Patch>
            <Patch>official/7.4.226</Patch>
            <Patch>official/7.4.227</Patch>
            <Patch>official/7.4.228</Patch>
            <Patch>official/7.4.229</Patch>
            <Patch>official/7.4.230</Patch>
            <Patch>official/7.4.231</Patch>
            <Patch>official/7.4.232</Patch>
            <Patch>official/7.4.233</Patch>
            <Patch>official/7.4.234</Patch>
            <Patch>official/7.4.235</Patch>
            <Patch>official/7.4.236</Patch>
            <Patch>official/7.4.237</Patch>
            <Patch>official/7.4.238</Patch>
            <Patch>official/7.4.239</Patch>
            <Patch>official/7.4.240</Patch>
            <Patch>official/7.4.241</Patch>
            <Patch>official/7.4.242</Patch>
            <Patch>official/7.4.243</Patch>
            <Patch>official/7.4.244</Patch>
            <Patch>official/7.4.245</Patch>
            <Patch>official/7.4.246</Patch>
            <Patch>official/7.4.247</Patch>
            <Patch>official/7.4.248</Patch>
            <Patch>official/7.4.249</Patch>
            <Patch>official/7.4.250</Patch>
            <Patch>official/7.4.251</Patch>
            <Patch>official/7.4.252</Patch>
            <Patch>official/7.4.253</Patch>
            <Patch>official/7.4.254</Patch>
            <Patch>official/7.4.255</Patch>
            <Patch>official/7.4.256</Patch>
            <Patch>official/7.4.257</Patch>
            <Patch>official/7.4.258</Patch>
            <Patch>official/7.4.259</Patch>
            <Patch>official/7.4.260</Patch>
            <Patch>official/7.4.261</Patch>
            <Patch>official/7.4.262</Patch>
            <Patch>official/7.4.263</Patch>
            <Patch>official/7.4.264</Patch>
            <Patch>official/7.4.265</Patch>
            <Patch>official/7.4.266</Patch>
            <Patch>official/7.4.267</Patch>
            <Patch>official/7.4.268</Patch>
            <Patch>official/7.4.269</Patch>
            <Patch>official/7.4.270</Patch>
            <Patch>official/7.4.271</Patch>
            <Patch>official/7.4.272</Patch>
            <Patch>official/7.4.273</Patch>
            <Patch>official/7.4.274</Patch>
            <Patch>official/7.4.275</Patch>
            <Patch>official/7.4.276</Patch>
            <Patch>official/7.4.277</Patch>
            <Patch>official/7.4.278</Patch>
            <Patch>official/7.4.279</Patch>
            <Patch>official/7.4.280</Patch>
            <Patch>official/7.4.281</Patch>
            <Patch>official/7.4.282</Patch>
            <Patch>official/7.4.283</Patch>
            <Patch>official/7.4.284</Patch>
            <Patch>official/7.4.285</Patch>
            <Patch>official/7.4.286</Patch>
            <Patch>official/7.4.287</Patch>
            <Patch>official/7.4.288</Patch>
            <Patch>official/7.4.289</Patch>
            <Patch>official/7.4.290</Patch>
            <Patch>official/7.4.291</Patch>
            <Patch>official/7.4.292</Patch>
            <Patch>official/7.4.293</Patch>
            <Patch>official/7.4.294</Patch>
            <Patch>official/7.4.295</Patch>
            <Patch>official/7.4.296</Patch>
            <Patch>official/7.4.297</Patch>
            <Patch>official/7.4.298</Patch>
            <Patch>official/7.4.299</Patch>
            <Patch>official/7.4.300</Patch>
            <Patch>official/7.4.301</Patch>
            <Patch>official/7.4.302</Patch>
            <Patch>official/7.4.303</Patch>
            <Patch>official/7.4.304</Patch>
            <Patch>official/7.4.305</Patch>
            <Patch>official/7.4.306</Patch>
            <Patch>official/7.4.307</Patch>
            <!--
            Don't forget to update official/README everyime to add new patches

            An handy shell loop for downloading vim patches:
            for i in {162..198}; do wget ftp://ftp.vim.org/pub/vim/patches/7.3/7.3.$i ;done
            -->

            <!-- Fix xml autocomplete crash (Fixes #8383) -->
            <Patch>vim-fix-xml-crash.patch</Patch>

            <!-- Pisi Linux patches-->
	    <!--<Patch level="1">pisilinux/pisi.patch</Patch>--><!--zipPlugin changed-->

            <!-- syntax higlighting fixes -->
            <Patch level="1">pisilinux/bash_completion.patch</Patch>
	    <!--<Patch level="1">pisilinux/fstab.patch</Patch>--><!--need newest patch-->
            <Patch level="1">pisilinux/grub_conf.patch</Patch>
	    <!--<Patch level="1">pisilinux/grub_locations.patch</Patch>--><!--need newest patch-->
            <Patch level="1">pisilinux/xorg_conf.patch</Patch>
            <Patch level="1">vim-7.0-warning.patch</Patch>
            <Patch level="1">vim-7.3-interix-link.patch</Patch>
            <!-- http://www.mail-archive.com/vim_dev@googlegroups.com/msg16664.html
            <Patch level="1">f1f6ac67acd8.patch</Patch>-->
        </Patches>
    </Source>

    <Package>
        <Name>vim</Name>
        <IsA>app:console</IsA>
        <RuntimeDependencies>
            <Dependency>gpm</Dependency>
            <Dependency>ctags</Dependency>
            <Dependency>libSM</Dependency>
            <Dependency>libXt</Dependency>
            <Dependency>libICE</Dependency>
            <Dependency>ruby</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="executable">/usr/bin/vi*</Path>
            <Path fileType="executable">/usr/bin/rvi*</Path>
            <Path fileType="executable">/usr/bin/ex</Path>
            <Path fileType="executable">/usr/bin/xxd</Path>
            <Path fileType="executable">/bin</Path>
            <Path fileType="data">/usr/share/vim</Path>
            <Path fileType="man">/usr/share/man</Path>
            <Path fileType="doc">/usr/share/doc</Path>
            <Path fileType="config">/etc/vim</Path>
        </Files>
        <AdditionalFiles>
            <AdditionalFile owner="root" permission="0644" target="/etc/vim/vimrc">vimrc</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/actions.vim">pisilinux/actions.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/pspec.vim">pisilinux/pspec.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/translations.vim">pisilinux/translations.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/taglist.vim">plugins/taglist.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/kde-devel-vim.vim">plugins/kde-devel-vim.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/plugin/newpythonfile.vim">plugins/newpythonfile.vim</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/vim/vimfiles/colors/redstring.vim">plugins/redstring.vim</AdditionalFile>
        </AdditionalFiles>
    </Package>

    <Package>
        <Name>gvim</Name>
        <Icon>gvim</Icon>
        <IsA>app:gui</IsA>
        <BuildType>gui</BuildType>
        <RuntimeDependencies>
            <Dependency>gtk2</Dependency>
            <Dependency>gpm</Dependency>
            <Dependency>libSM</Dependency>
            <Dependency>libXt</Dependency>
            <Dependency>pango</Dependency>
            <Dependency>libICE</Dependency>
            <Dependency>vim</Dependency>
            <Dependency>ruby</Dependency>
            <Dependency>gdk-pixbuf</Dependency>
        </RuntimeDependencies>
        <Files>
            <Path fileType="executable">/usr/bin/ggvi*</Path>
            <Path fileType="executable">/usr/bin/gvi*</Path>
            <Path fileType="executable">/usr/bin/egvi*</Path>
            <Path fileType="executable">/usr/bin/rggvi*</Path>
            <Path fileType="executable">/usr/bin/rgvi*</Path>
            <Path fileType="executable">/usr/bin/gvimtutor</Path>
            <Path fileType="data">/usr/share/pixmaps</Path>
            <Path fileType="data">/usr/share/applications</Path>
        </Files>
        <AdditionalFiles>
            <AdditionalFile owner="root" permission="0755" target="/usr/bin/gvimtutor">gvimtutor</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/pixmaps/gvim.xpm">gvim.xpm</AdditionalFile>
            <AdditionalFile owner="root" permission="0644" target="/usr/share/applications/gvim.desktop">gvim.desktop</AdditionalFile>
        </AdditionalFiles>
    </Package>

    <History>
       <Update release="6">
            <Date>2014-05-27</Date>
            <Version>0.7.4.307</Version>
            <Comment>Version bump.</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>
        <Update release="5">
            <Date>2014-02-17</Date>
            <Version>0.7.3.843</Version>
            <Comment>Rebuild.</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>
        <Update release="4">
            <Date>2013-07-28</Date>
            <Version>7.3.843</Version>
            <Comment>Dep Fixed</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>
        <Update release="3">
            <Date>2013-07-28</Date>
            <Version>7.3.843</Version>
            <Comment>Fix gvim desps.</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>
        <Update release="2">
            <Date>2013-03-03</Date>
            <Version>7.3.843</Version>
            <Comment>Release no bump for ruby 2.0</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>
        <Update release="1">
            <Date>2013-01-06</Date>
            <Version>7.3.762</Version>
            <Comment>First release</Comment>
            <Name>Osman Erkan</Name>
            <Email>osman.erkan@pisilinux.org</Email>
        </Update>
    </History>
</PISI>