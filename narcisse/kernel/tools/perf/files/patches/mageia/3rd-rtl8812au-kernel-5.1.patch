diff -urp linux/3rdparty/rtl8812au.orig/os_dep/osdep_service.c linux/3rdparty/rtl8812au/os_dep/osdep_service.c
--- linux/3rdparty/rtl8812au.orig/os_dep/osdep_service.c	2019-04-22 01:15:05.974129514 +0300
+++ linux/3rdparty/rtl8812au/os_dep/osdep_service.c	2019-04-22 01:43:29.221777733 +0300
@@ -793,7 +793,7 @@ static int isFileReadable(char *path)
 		ret = PTR_ERR(fp);
 	}
 	else {
-		oldfs = get_fs(); set_fs(get_ds());
+		oldfs = get_fs(); set_fs(KERNEL_DS);
 
 		if(1!=readFile(fp, &buf, 1))
 			ret = PTR_ERR(fp);
@@ -821,7 +821,7 @@ static int retriveFromFile(char *path, u
 		if( 0 == (ret=openFile(&fp,path, O_RDONLY, 0)) ){
 			DBG_871X("%s openFile path:%s fp=%p\n",__FUNCTION__, path ,fp);
 
-			oldfs = get_fs(); set_fs(get_ds());
+			oldfs = get_fs(); set_fs(KERNEL_DS);
 			ret=readFile(fp, buf, sz);
 			set_fs(oldfs);
 			closeFile(fp);
@@ -855,7 +855,7 @@ static int storeToFile(char *path, u8* b
 		if( 0 == (ret=openFile(&fp, path, O_CREAT|O_WRONLY, 0666)) ) {
 			DBG_871X("%s openFile path:%s fp=%p\n",__FUNCTION__, path ,fp);
 
-			oldfs = get_fs(); set_fs(get_ds());
+			oldfs = get_fs(); set_fs(KERNEL_DS);
 			ret=writeFile(fp, buf, sz);
 			set_fs(oldfs);
 			closeFile(fp);
